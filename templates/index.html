<!-- index.html -->
{% extends "base.html" %}

{% block dropzoneCss %}
    {{ dropzone.load_css() }}
{% endblock %}

{% block content %}
    <div>
        <h1 class="title-text" style="font-size:44px; margin-bottom:0px"> Fin edge detector</h1>
        <p class="body-text" style="font-size: 18px">Calculate the edge of the rear fin of any cetacean quickly and easily.</p>
    </div>
    <div>
            {{ dropzone.create(action='/uploads') }}

        <div style="width:100%; text-align:center; margin-top:24px">
            <button id="getOutlineBtn" class="default-button gray-button" type="button"><a style="text-decoration:none; color:white; font-size: 20px; user-select: nonemig" href="/get_outline">Get outline </a></button>
        </div>

    </div>




{% endblock %}

{% block dropzoneJs %}
    {{ dropzone.load_js() }}
    {{ dropzone.config(custom_options='
                thumbnailWidth: 200,
                thumbnailHeight: 200,
                thumbnailMethod: "contain",
                addRemoveLinks: true,

                success: function(file, response) {
                    $("#getOutlineBtn").removeClass("gray-button");
                },


                removedfile: function (file, data) {
                    $.ajax({
                        type:"POST",
                        url:"/deletefile",
                        success : function (data) {
                            $("#myDropzone").children().last().addClass("dz-deleted");
                            $("#myDropzone").removeClass("dz-max-files-reached");

                        }
                    });
                }
    ') }}

{% endblock %}